<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <alerts>
        <fullName>Start_Onboarding_Notification_to_Compliance</fullName>
        <ccEmails>operations@incomlend.com, sonal.priyanka@incomlend.com</ccEmails>
        <description>Start Onboarding Notification to Compliance</description>
        <protected>false</protected>
        <recipients>
            <recipient>Compliance</recipient>
            <type>group</type>
        </recipients>
        <recipients>
            <field>Sales_Owner__c</field>
            <type>userLookup</type>
        </recipients>
        <senderAddress>operations@incomlend.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Incomlend_emails/Start_Onboarding_Notification_to_Compliance</template>
    </alerts>
    <fieldUpdates>
        <fullName>Buyer_name</fullName>
        <field>Buyer_Name__c</field>
        <formula>Lead_Name__r.Company</formula>
        <name>Buyer name</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>true</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>CL_Requested</fullName>
        <field>CL_Requested__c</field>
        <formula>Lead_Name__r.Credit_Limit_requested__c</formula>
        <name>CL Requested</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Country_Buyer</fullName>
        <field>Buyer_Country__c</field>
        <formula>Lead_Name__r.Country</formula>
        <name>Country Buyer</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Country_Supplier</fullName>
        <field>Supplier_Country__c</field>
        <formula>Lead_Name_Supplier__r.Country</formula>
        <name>Country Supplier</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>true</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Credit_Limit_provided_by_insurer</fullName>
        <field>CL_Provided_by_insurer__c</field>
        <formula>Lead_Name__r.Credit_Limit_Provided_by_Insurer__c</formula>
        <name>Credit Limit provided by insurer</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>true</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Date_Terms_sheet_Signed_Supplier</fullName>
        <field>Date_Term_sheet_Signedt__c</field>
        <formula>Lead_Name_Supplier__r.Date_Termsheet_Signed__c</formula>
        <name>Date Terms sheet Signed Supplier</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>true</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Date_Termsheet_Sent_Supplier</fullName>
        <field>Date_Termsheet_Sent__c</field>
        <formula>Lead_Name_Supplier__r.Date_Termsheet_Sent__c</formula>
        <name>Date Termsheet Sent Supplier</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>true</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Forecast_Completed</fullName>
        <field>Important_Notes__c</field>
        <formula>(&apos;&lt;html&gt;&lt;body&gt;&lt;div style=&quot;color: Green;&quot;&gt;&lt;b&gt;&apos; &amp; &quot;Forecast Looks Completed &quot; &amp; &apos;&lt;/b&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&apos;)</formula>
        <name>Forecast Completed</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Missing_Forecast</fullName>
        <field>Important_Notes__c</field>
        <formula>(&apos;&lt;html&gt;&lt;body&gt;&lt;div style=&quot;color: red;&quot;&gt;&lt;b&gt;&apos; &amp; &quot;Forecast Non Completed, Please update it &quot; &amp; &apos;&lt;/b&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&apos;)</formula>
        <name>Missing Forecast</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>OIP_Started</fullName>
        <field>OIP_Started__c</field>
        <literalValue>1</literalValue>
        <name>OIP Started</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Satus_Opportunity_active</fullName>
        <field>Opportunity_Status__c</field>
        <literalValue>Active</literalValue>
        <name>Satus Opportunity active</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Supplier_Name</fullName>
        <field>Supplier_name__c</field>
        <formula>Lead_Name_Supplier__r.Company</formula>
        <name>Supplier Name</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Ternsheet_Sent</fullName>
        <field>Date_Term_sheet_Signedt__c</field>
        <formula>Lead_Name__r.Date_Termsheet_Signed__c</formula>
        <name>Ternsheet Signed reverse factoring</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>true</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Ternsheet_Sent_Reverse_Factoring</fullName>
        <field>Date_Termsheet_Sent__c</field>
        <formula>Lead_Name__r.Date_Termsheet_Sent__c</formula>
        <name>Ternsheet Sent Reverse Factoring</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>true</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Satus_Opportunity_to_OIP</fullName>
        <field>Opportunity_Status__c</field>
        <literalValue>OIP</literalValue>
        <name>Update Satus Opportunity to OIP</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>true</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>date_answer_insurer</fullName>
        <field>Date_Answer_Insurer__c</field>
        <formula>Lead_Name__r.Insurer_actual_response_date__c</formula>
        <name>date answer insurer</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <rules>
        <fullName>Active Status Automation</fullName>
        <actions>
            <name>Satus_Opportunity_active</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>Invoice_Opportunity__c.Process_Status__c</field>
            <operation>equals</operation>
            <value>Invoice submitted</value>
        </criteriaItems>
        <description>Put the Opportunity in Active when Finances amount all time is not empty</description>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Forecast Completed</fullName>
        <actions>
            <name>Forecast_Completed</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <booleanFilter>1 AND 2 AND 3 AND 4</booleanFilter>
        <criteriaItems>
            <field>Invoice_Opportunity__c.First_invoice_Amount__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Invoice_Opportunity__c.Date_First_Invoice__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Invoice_Opportunity__c.Expected_Tenor__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Invoice_Opportunity__c.SDR__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Missin Forecast</fullName>
        <actions>
            <name>Missing_Forecast</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <booleanFilter>1 OR 2 OR 3 OR 4</booleanFilter>
        <criteriaItems>
            <field>Invoice_Opportunity__c.First_invoice_Amount__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Invoice_Opportunity__c.Date_First_Invoice__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Invoice_Opportunity__c.Expected_Tenor__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Invoice_Opportunity__c.SDR__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Update Satus Opportunity</fullName>
        <actions>
            <name>OIP_Started</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Update_Satus_Opportunity_to_OIP</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>Invoice_Opportunity__c.Date_Term_sheet_Signedt__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Update buyer opporunity Factoring</fullName>
        <actions>
            <name>Buyer_name</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>CL_Requested</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Country_Buyer</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Credit_Limit_provided_by_insurer</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>date_answer_insurer</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>Invoice_Opportunity__c.Product_type__c</field>
            <operation>equals</operation>
            <value>Factoring</value>
        </criteriaItems>
        <criteriaItems>
            <field>Invoice_Opportunity__c.Lead_Stage__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Invoice_Opportunity__c.Lead_Supplier_Stage__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Update opporunity Supplychain</fullName>
        <actions>
            <name>Buyer_name</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>CL_Requested</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Country_Buyer</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Country_Supplier</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Credit_Limit_provided_by_insurer</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Supplier_Name</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Ternsheet_Sent</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Ternsheet_Sent_Reverse_Factoring</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>date_answer_insurer</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>Invoice_Opportunity__c.Product_type__c</field>
            <operation>equals</operation>
            <value>Factoring,Supply Chain Finance</value>
        </criteriaItems>
        <criteriaItems>
            <field>Invoice_Opportunity__c.Buyer_Name__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Update supplier opporunity Factoring</fullName>
        <actions>
            <name>Country_Supplier</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Date_Terms_sheet_Signed_Supplier</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Date_Termsheet_Sent_Supplier</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Supplier_Name</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>Invoice_Opportunity__c.Product_type__c</field>
            <operation>equals</operation>
            <value>Factoring</value>
        </criteriaItems>
        <criteriaItems>
            <field>Invoice_Opportunity__c.Supplier_name__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <triggerType>onAllChanges</triggerType>
    </rules>
</Workflow>
